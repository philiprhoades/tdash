(function(c){var a=c.scrollTo=function(d,f,g){c(window).scrollTo(d,f,g)};a.defaults={axis:"xy",duration:parseFloat(c.fn.jquery)>=1.3?0:1};a.window=function(d){return c(window)._scrollable()};c.fn._scrollable=function(){return this.map(function(){var d=this,f=!d.nodeName||c.inArray(d.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!f){return d}var g=(d.contentWindow||d).document||d.ownerDocument||d;return c.browser.safari||g.compatMode=="BackCompat"?g.body:g.documentElement})};c.fn.scrollTo=function(f,e,d){if(typeof e=="object"){d=e;e=0}if(typeof d=="function"){d={onAfter:d}}if(f=="max"){f=9000000000}d=c.extend({},a.defaults,d);e=e||d.speed||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){e/=2}d.offset=b(d.offset);d.over=b(d.over);return this._scrollable().each(function(){var n=this,l=c(n),m=f,j,k={},h=l.is("html,body");switch(typeof m){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(m)){m=b(m);break}m=c(m,this);case"object":if(m.is||m.style){j=(m=c(m)).offset()}}c.each(d.axis.split(""),function(q,r){var t=r=="x"?"Left":"Top",s=t.toLowerCase(),v="scroll"+t,p=n[v],g=a.max(n,r);if(j){k[v]=j[s]+(h?0:p-l.offset()[s]);if(d.margin){k[v]-=parseInt(m.css("margin"+t))||0;k[v]-=parseInt(m.css("border"+t+"Width"))||0}k[v]+=d.offset[s]||0;if(d.over[s]){k[v]+=m[r=="x"?"width":"height"]()*d.over[s]}}else{var u=m[s];k[v]=u.slice&&u.slice(-1)=="%"?parseFloat(u)/100*g:u}if(/^\d+$/.test(k[v])){k[v]=k[v]<=0?0:Math.min(k[v],g)}if(!q&&d.queue){if(p!=k[v]){i(d.onAfterFirst)}delete k[v]}});i(d.onAfter);function i(g){l.animate(k,e,d.easing,g&&function(){g.call(this,f,d)})}}).end()};a.max=function(g,j){var n=j=="x"?"Width":"Height",k="scroll"+n;if(!c(g).is("html,body")){return g[k]-c(g)[n.toLowerCase()]()}var o="client"+n,f=g.ownerDocument.documentElement,d=g.ownerDocument.body;return Math.max(f[k],d[k])-Math.min(f[o],d[o])};function b(d){return typeof d=="object"?d:{top:d,left:d}}})(jQuery);(function(h,i){var g={},k,f,j={fetch:function(b,a){h.ajax({dataType:"jsonp",traditional:1,url:"http://www.longurlplease.com/api/v1.1",data:{q:b},success:a})},batch:10};h.longUrl=k=function(b,a){var e={},d=0;if(Object.prototype.toString.call(b)==="[object Object]"){f=h.extend({},j,b);return}b=typeof b==="string"?[b]:b;(function c(){var n=[],m;while(d<b.length&&n.length<f.batch){m=b[d++];if(!m||!/^https?:\/\//i.test(m)){continue}if(g[m]!==i){e[m]=g[m]}else{if(h.inArray(m,n)===-1){n.push(m)}}}if(n.length){f.fetch(n,function(l){h.each(l,function(q,p){e[q]=g[q]=p});c()})}else{a(e)}})()};k({});h.fn.longUrl=function(d){var c=this,e={},a=[],b={callback:function(n,m){if(m){this.each(function(){var o=h(this),l=o.html();o.attr({title:m,href:m});if(o.html()!==l){o.html(l)}})}}};d=h.extend(b,d);this.each(function(){var m=h(this),n=m.attr("href");if(n){e[n]=e[n]?e[n].add(this):m;a.push(n)}});k(a,function(l){d.callback&&h.each(l,function(o,n){if(e[o]){d.callback.call(e[o],o,n);delete e[o]}});e=null;d.complete&&d.complete.call(c,l)});return this}})(jQuery);if(typeof(BitlyApi)=="undefined"){var BitlyApi={}}if(typeof(BitlyCB)=="undefined"){var BitlyCB={}}BitlyApi.loadScript=function(b){var a=document.createElement("script");a.setAttribute("language","javascript");a.setAttribute("type","text/javascript");a.setAttribute("src",b);document.body.appendChild(a)};BitlyApi.loadCss=function(a){var b=document.createElement("link");b.setAttribute("type","text/css");b.setAttribute("href",a);b.setAttribute("rel","stylesheet");b.setAttribute("media","screen");try{document.getElementsByTagName("head")[0].appendChild(b)}catch(c){document.body.appendChild(b)}};BitlyApi.call=function(f,e,b){var c="http://api.bit.ly/"+f;var d=[];if(b){d.push("callback="+b)}for(var a in e){d.push(a+"="+encodeURIComponent(e[a]))}c+="?"+d.join("&");BitlyApi.loadScript(c)};var BitlyApiClient=function(b,c,a){this.login=b||"tdash";this.apiKey=c||"R_46f4b2425470bafdbb12c382fd8f1726";this.version=a||"2.0.1"};BitlyApiClient.prototype.googleVisRequired="This method requires the google visualization api. Please include javascript from: http://www.google.com/jsapi. More info: http://code.google.com/apis/visualization/documentation/index.html";BitlyApiClient.prototype.availableModules=["stats"];BitlyApiClient.prototype.loadingModules={};BitlyApiClient.prototype.moduleLoaded=function(module_name,callback_method_name){BitlyApiClient.prototype.loadingModules[module_name]=true;for(var mod in BitlyApiClient.prototype.loadingModules){if(!BitlyApiClient.prototype.loadingModules[mod]){return false}}eval(callback_method_name+"();")};BitlyApiClient.prototype.loadModules=function(a,d){for(var f=0;f<a.length;f++){BitlyApiClient.prototype.loadingModules[a[f]]=false}for(var f=0;f<a.length;f++){var c=a[f];var b="module_"+c+"_loaded";BitlyCB[b]=function(){BitlyApiClient.prototype.moduleLoaded(c,d)};var g="http://bit.ly/app/modules/"+c+".js?callback=BitlyCB."+b;try{BitlyApi.loadScript(g)}catch(h){BitlyClient.addPageLoadEvent(function(){BitlyApi.loadScript(g)})}}try{BitlyApi.loadCss("http://bit.ly/static/css/javascript-modules.css")}catch(h){BitlyClient.addPageLoadEvent(function(){BitlyApi.loadCss("http://bit.ly/static/css/javascript-modules.css")})}};BitlyApiClient.prototype.addPageLoadEvent=function(a){var b=window.onload;if(typeof window.onload!="function"){window.onload=a}else{window.onload=function(){b();a()}}};BitlyApiClient.prototype.extractBitlyHash=function(b){if(b==null){return null}else{var a=b.match(/\/([^\/]+)$/);if(a){return a[1]}else{return b}}};BitlyApiClient.prototype.createElement=function(d,b){var c=document.createElement(d);for(var a in b){if(a=="text"){c.appendChild(document.createTextNode(b[a]))}else{this.setAttribute(c,a,b[a])}}return c};BitlyApiClient.prototype.setAttribute=function(b,a,c){if(a=="class"){b.setAttribute("className",c)}return b.setAttribute(a,c)};BitlyApiClient.prototype.listen=function(c,d,b){if(c.addEventListener){c.addEventListener(d,b,false)}else{if(c.attachEvent){var a=c.attachEvent("on"+d,b);return a}}};BitlyApiClient.prototype.targ=function(b){var a;if(!b){var b=window.event}if(b.target){a=b.target}else{if(b.srcElement){a=b.srcElement}}if(a.nodeType==3){a=a.parentNode}return a};BitlyApiClient.prototype.toggle=function(a){var b;if(typeof(a)=="string"){b=document.getElementById(a);if(typeof(b)==undefined){throw"toggle: No DOM element with id: "+a;return}}else{b=a}if(b.style.display=="none"){b.style.display=""}else{b.style.display="none"}};BitlyApiClient.prototype.call=function(c,b,a){b.version=this.version;b.login=this.login;b.apiKey=this.apiKey;return BitlyApi.call(c,b,a)};BitlyApiClient.prototype.shorten=function(b,a){return this.call("shorten",{longUrl:b},a)};BitlyApiClient.prototype.expand=function(b,a){return this.call("expand",{shortUrl:b},a)};BitlyApiClient.prototype.info=function(e,c){var a=e.split(",");var b=[];for(var d=0;d<a.length&&d<1;d++){b.push(this.extractBitlyHash(a[d]))}return this.call("info",{hash:b.join(",")},c)};BitlyApiClient.prototype.stats=function(b,a){b=this.extractBitlyHash(b);return this.call("stats",{hash:b},a)};BitlyApiClient.prototype.shortenTest=function(){this.shorten(document.location,"shortenTestCB")};function shortenTestCB(c){var a;for(var b in c.results){a=c.results[b];a.longUrl=b;break}alert(a.longUrl+" shortened to "+a.shortUrl)}BitlyApiClient.prototype.expandTest=function(){this.expand("http://bit.ly/3j4ir4","expandTestCB")};function expandTestCB(c){var a;for(var b in c.results){a=c.results[b];a.hash=b;break}alert(a.hash+" expanded to "+a.longUrl)}BitlyApiClient.prototype.infoTest=function(){this.info("http://bit.ly/3j4ir4","infoTestCB")};function infoTestCB(b){var c;for(var a in b.results){c=b.results[a];break}alert("got info for "+c.hash+". eg., longUrl is "+c.longUrl+", title is "+c.htmlTitle)}BitlyApiClient.prototype.statsTest=function(){this.stats("http://bit.ly/3j4ir4","statsTestCB")};function statsTestCB(b){var a=b.results;alert("stats for "+a.hash+". "+a.clicks+" clicks")}var BitlyClient=new BitlyApiClient();var OAuth;if(OAuth==null){OAuth={}}OAuth.setProperties=function setProperties(a,c){if(a!=null&&c!=null){for(var b in c){a[b]=c[b]}}return a};OAuth.setProperties(OAuth,{percentEncode:function percentEncode(b){if(b==null){return""}if(b instanceof Array){var c="";for(var a=0;a<b.length;++b){if(c!=""){c+="&"}c+=OAuth.percentEncode(b[a])}return c}b=encodeURIComponent(b);b=b.replace(/\!/g,"%21");b=b.replace(/\*/g,"%2A");b=b.replace(/\'/g,"%27");b=b.replace(/\(/g,"%28");b=b.replace(/\)/g,"%29");return b},decodePercent:function decodePercent(a){if(a!=null){a=a.replace(/\+/g," ")}return decodeURIComponent(a)},getParameterList:function getParameterList(a){if(a==null){return[]}if(typeof a!="object"){return OAuth.decodeForm(a+"")}if(a instanceof Array){return a}var b=[];for(var c in a){b.push([c,a[c]])}return b},getParameterMap:function getParameterMap(b){if(b==null){return{}}if(typeof b!="object"){return OAuth.getParameterMap(OAuth.decodeForm(b+""))}if(b instanceof Array){var d={};for(var c=0;c<b.length;++c){var a=b[c][0];if(d[a]===undefined){d[a]=b[c][1]}}return d}return b},getParameter:function getParameter(b,a){if(b instanceof Array){for(var c=0;c<b.length;++c){if(b[c][0]==a){return b[c][1]}}}else{return OAuth.getParameterMap(b)[a]}return null},formEncode:function formEncode(b){var a="";var d=OAuth.getParameterList(b);for(var f=0;f<d.length;++f){var c=d[f][1];if(c==null){c=""}if(a!=""){a+="&"}a+=OAuth.percentEncode(d[f][0])+"="+OAuth.percentEncode(c)}return a},decodeForm:function decodeForm(d){var g=[];var i=d.split("&");for(var h=0;h<i.length;++h){var a=i[h];if(a==""){continue}var c=a.indexOf("=");var b;var f;if(c<0){b=OAuth.decodePercent(a);f=null}else{b=OAuth.decodePercent(a.substring(0,c));f=OAuth.decodePercent(a.substring(c+1))}g.push([b,f])}return g},setParameter:function setParameter(c,a,d){var b=c.parameters;if(b instanceof Array){for(var f=0;f<b.length;++f){if(b[f][0]==a){if(d===undefined){b.splice(f,1)}else{b[f][1]=d;d=undefined}}}if(d!==undefined){b.push([a,d])}}else{b=OAuth.getParameterMap(b);b[a]=d;c.parameters=b}},setParameters:function setParameters(c,b){var d=OAuth.getParameterList(b);for(var a=0;a<d.length;++a){OAuth.setParameter(c,d[a][0],d[a][1])}},completeRequest:function completeRequest(b,a){if(b.method==null){b.method="GET"}var c=OAuth.getParameterMap(b.parameters);if(c.oauth_consumer_key==null){OAuth.setParameter(b,"oauth_consumer_key",a.consumerKey||"")}if(c.oauth_token==null&&a.token!=null){OAuth.setParameter(b,"oauth_token",a.token)}if(c.oauth_version==null){OAuth.setParameter(b,"oauth_version","1.0")}if(c.oauth_timestamp==null){OAuth.setParameter(b,"oauth_timestamp",OAuth.timestamp())}if(c.oauth_nonce==null){OAuth.setParameter(b,"oauth_nonce",OAuth.nonce(6))}OAuth.SignatureMethod.sign(b,a)},setTimestampAndNonce:function setTimestampAndNonce(a){OAuth.setParameter(a,"oauth_timestamp",OAuth.timestamp());OAuth.setParameter(a,"oauth_nonce",OAuth.nonce(6))},addToURL:function addToURL(a,c){newURL=a;if(c!=null){var b=OAuth.formEncode(c);if(b.length>0){var d=a.indexOf("?");if(d<0){newURL+="?"}else{newURL+="&"}newURL+=b}}return newURL},getAuthorizationHeader:function getAuthorizationHeader(a,c){var h='OAuth realm="'+OAuth.percentEncode(a)+'"';var d=OAuth.getParameterList(c);for(var f=0;f<d.length;++f){var g=d[f];var b=g[0];if(b.indexOf("oauth_")==0){h+=","+OAuth.percentEncode(b)+'="'+OAuth.percentEncode(g[1])+'"'}}return h},correctTimestampFromSrc:function correctTimestampFromSrc(b){b=b||"oauth_timestamp";var a=document.getElementsByTagName("script");if(a==null||!a.length){return}var f=a[a.length-1].src;if(!f){return}var d=f.indexOf("?");if(d<0){return}parameters=OAuth.getParameterMap(OAuth.decodeForm(f.substring(d+1)));var c=parameters[b];if(c==null){return}OAuth.correctTimestamp(c)},correctTimestamp:function correctTimestamp(a){OAuth.timeCorrectionMsec=(a*1000)-(new Date()).getTime()},timeCorrectionMsec:0,timestamp:function timestamp(){var a=(new Date()).getTime()+OAuth.timeCorrectionMsec;return Math.floor(a/1000)},nonce:function nonce(f){var d=OAuth.nonce.CHARS;var a="";for(var c=0;c<f;++c){var b=Math.floor(Math.random()*d.length);a+=d.substring(b,b+1)}return a}});OAuth.nonce.CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";OAuth.declareClass=function declareClass(d,a,c){var f=d[a];d[a]=c;if(c!=null&&f!=null){for(var b in f){if(b!="prototype"){c[b]=f[b]}}}return c};OAuth.declareClass(OAuth,"SignatureMethod",function OAuthSignatureMethod(){});OAuth.setProperties(OAuth.SignatureMethod.prototype,{sign:function sign(c){var b=OAuth.SignatureMethod.getBaseString(c);var a=this.getSignature(b);OAuth.setParameter(c,"oauth_signature",a);return a},initialize:function initialize(c,a){var b;if(a.accessorSecret!=null&&c.length>9&&c.substring(c.length-9)=="-Accessor"){b=a.accessorSecret}else{b=a.consumerSecret}this.key=OAuth.percentEncode(b)+"&"+OAuth.percentEncode(a.tokenSecret)}});OAuth.setProperties(OAuth.SignatureMethod,{sign:function sign(c,a){var b=OAuth.getParameterMap(c.parameters).oauth_signature_method;if(b==null||b==""){b="HMAC-SHA1";OAuth.setParameter(c,"oauth_signature_method",b)}OAuth.SignatureMethod.newMethod(b,a).sign(c)},newMethod:function newMethod(d,a){var c=OAuth.SignatureMethod.REGISTERED[d];if(c!=null){var h=new c();h.initialize(d,a);return h}var g=new Error("signature_method_rejected");var b="";for(var f in OAuth.SignatureMethod.REGISTERED){if(b!=""){b+="&"}b+=OAuth.percentEncode(f)}g.oauth_acceptable_signature_methods=b;throw g},REGISTERED:{},registerMethodClass:function registerMethodClass(b,a){for(var c=0;c<b.length;++c){OAuth.SignatureMethod.REGISTERED[b[c]]=a}},makeSubclass:function makeSubclass(a){var b=OAuth.SignatureMethod;var c=function(){b.call(this)};c.prototype=new b();c.prototype.getSignature=a;c.prototype.constructor=c;return c},getBaseString:function getBaseString(g){var b=g.action;var h=b.indexOf("?");var f;if(h<0){f=g.parameters}else{f=OAuth.decodeForm(b.substring(h+1));var d=OAuth.getParameterList(g.parameters);for(var c=0;c<d.length;++c){f.push(d[c])}}return OAuth.percentEncode(g.method.toUpperCase())+"&"+OAuth.percentEncode(OAuth.SignatureMethod.normalizeUrl(b))+"&"+OAuth.percentEncode(OAuth.SignatureMethod.normalizeParameters(f))},normalizeUrl:function normalizeUrl(c){var d=OAuth.SignatureMethod.parseUri(c);var a=d.protocol.toLowerCase();var g=d.authority.toLowerCase();var h=(a=="http"&&d.port==80)||(a=="https"&&d.port==443);if(h){var b=g.lastIndexOf(":");if(b>=0){g=g.substring(0,b)}}var f=d.path;if(!f){f="/"}return a+"://"+g+f},parseUri:function parseUri(f){var d={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};var a=d.parser.strict.exec(f);var c={};var b=14;while(b--){c[d.key[b]]=a[b]||""}return c},normalizeParameters:function normalizeParameters(d){if(d==null){return""}var f=OAuth.getParameterList(d);var h=[];for(var g=0;g<f.length;++g){var b=f[g];if(b[0]!="oauth_signature"){h.push([OAuth.percentEncode(b[0])+" "+OAuth.percentEncode(b[1]),b])}}h.sort(function(j,i){if(j[0]<i[0]){return -1}if(j[0]>i[0]){return 1}return 0});var a=[];for(var c=0;c<h.length;++c){a.push(h[c][1])}return OAuth.formEncode(a)}});OAuth.SignatureMethod.registerMethodClass(["PLAINTEXT","PLAINTEXT-Accessor"],OAuth.SignatureMethod.makeSubclass(function getSignature(a){return this.key}));OAuth.SignatureMethod.registerMethodClass(["HMAC-SHA1","HMAC-SHA1-Accessor"],OAuth.SignatureMethod.makeSubclass(function getSignature(b){b64pad="=";var a=b64_hmac_sha1(this.key,b);return a}));try{OAuth.correctTimestampFromSrc()}catch(e){};var hexcase=0;var b64pad="";var chrsz=8;function hex_sha1(b){return binb2hex(core_sha1(str2binb(b),b.length*chrsz))}function b64_sha1(b){return binb2b64(core_sha1(str2binb(b),b.length*chrsz))}function str_sha1(b){return binb2str(core_sha1(str2binb(b),b.length*chrsz))}function hex_hmac_sha1(d,c){return binb2hex(core_hmac_sha1(d,c))}function b64_hmac_sha1(d,c){return binb2b64(core_hmac_sha1(d,c))}function str_hmac_sha1(d,c){return binb2str(core_hmac_sha1(d,c))}function sha1_vm_test(){return hex_sha1("abc")=="a9993e364706816aba3e25717850c26c9cd0d89d"}function core_sha1(D,d){D[d>>5]|=128<<(24-d%32);D[((d+64>>9)<<4)+15]=d;var C=Array(80);var E=1732584193;var F=-271733879;var a=-1732584194;var b=271733878;var c=-1009589776;for(var j=0;j<D.length;j+=16){var e=E;var i=F;var t=a;var w=b;var A=c;for(var x=0;x<80;x++){if(x<16){C[x]=D[j+x]}else{C[x]=rol(C[x-3]^C[x-8]^C[x-14]^C[x-16],1)}var B=safe_add(safe_add(rol(E,5),sha1_ft(x,F,a,b)),safe_add(safe_add(c,C[x]),sha1_kt(x)));c=b;b=a;a=rol(F,30);F=E;E=B}E=safe_add(E,e);F=safe_add(F,i);a=safe_add(a,t);b=safe_add(b,w);c=safe_add(c,A)}return Array(E,F,a,b,c)}function sha1_ft(h,b,c,d){if(h<20){return(b&c)|((~b)&d)}if(h<40){return b^c^d}if(h<60){return(b&c)|(b&d)|(c&d)}return b^c^d}function sha1_kt(b){return(b<20)?1518500249:(b<40)?1859775393:(b<60)?-1894007588:-899497514}function core_hmac_sha1(n,k){var l=str2binb(n);if(l.length>16){l=core_sha1(l,n.length*chrsz)}var i=Array(16),m=Array(16);for(var h=0;h<16;h++){i[h]=l[h]^909522486;m[h]=l[h]^1549556828}var j=core_sha1(i.concat(str2binb(k)),512+k.length*chrsz);return core_sha1(m.concat(j),512+160)}function safe_add(f,g){var h=(f&65535)+(g&65535);var e=(f>>16)+(g>>16)+(h>>16);return(e<<16)|(h&65535)}function rol(d,c){return(d<<c)|(d>>>(32-c))}function str2binb(g){var h=Array();var f=(1<<chrsz)-1;for(var e=0;e<g.length*chrsz;e+=chrsz){h[e>>5]|=(g.charCodeAt(e/chrsz)&f)<<(32-chrsz-e%32)}return h}function binb2str(h){var g="";var f=(1<<chrsz)-1;for(var e=0;e<h.length*32;e+=chrsz){g+=String.fromCharCode((h[e>>5]>>>(32-chrsz-e%32))&f)}return g}function binb2hex(h){var e=hexcase?"0123456789ABCDEF":"0123456789abcdef";var g="";for(var f=0;f<h.length*4;f++){g+=e.charAt((h[f>>2]>>((3-f%4)*8+4))&15)+e.charAt((h[f>>2]>>((3-f%4)*8))&15)}return g}function binb2b64(k){var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var i="";for(var g=0;g<k.length*4;g+=3){var j=(((k[g>>2]>>8*(3-g%4))&255)<<16)|(((k[g+1>>2]>>8*(3-(g+1)%4))&255)<<8)|((k[g+2>>2]>>8*(3-(g+2)%4))&255);for(var h=0;h<4;h++){if(g*8+h*6>k.length*32){i+=b64pad}else{i+=l.charAt((j>>6*(3-h))&63)}}}return i};if(typeof deconcept=="undefined"){var deconcept=new Object()}if(typeof deconcept.util=="undefined"){deconcept.util=new Object()}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object()}deconcept.SWFObject=function(u,w,h,t,q,o,c,s,y,v){if(!document.getElementById){return}this.DETECT_KEY=v?v:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(u){this.setAttribute("swf",u)}if(w){this.setAttribute("id",w)}if(h){this.setAttribute("width",h)}if(t){this.setAttribute("height",t)}if(q){this.setAttribute("version",new deconcept.PlayerVersion(q.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true}if(o){this.addParam("bgcolor",o)}var x=c?c:"high";this.addParam("quality",x);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var p=(s)?s:window.location;this.setAttribute("xiRedirectUrl",p);this.setAttribute("redirectUrl","");if(y){this.setAttribute("redirectUrl",y)}};deconcept.SWFObject.prototype={useExpressInstall:function(b){this.xiSWFPath=!b?"expressinstall.swf":b;this.setAttribute("useExpressInstall",true)},setAttribute:function(d,c){this.attributes[d]=c},getAttribute:function(b){return this.attributes[b]},addParam:function(d,c){this.params[d]=c},getParams:function(){return this.params},addVariable:function(d,c){this.variables[d]=c},getVariable:function(b){return this.variables[b]},getVariables:function(){return this.variables},getVariablePairs:function(){var e=new Array();var d;var f=this.getVariables();for(d in f){e.push(d+"="+f[d])}return e},getSWFHTML:function(){var g="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath)}g='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'"';g+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var h=this.getParams();for(var f in h){g+=[f]+'="'+h[f]+'" '}var e=this.getVariablePairs().join("&");if(e.length>0){g+='flashvars="'+e+'"'}g+="/>"}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath)}g='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'">';g+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var h=this.getParams();for(var f in h){g+='<param name="'+f+'" value="'+h[f]+'" />'}var e=this.getVariablePairs().join("&");if(e.length>0){g+='<param name="flashvars" value="'+e+'" />'}g+="</object>"}return g},write:function(e){if(this.getAttribute("useExpressInstall")){var d=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(d)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var f=(typeof e=="string")?document.getElementById(e):e;f.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var e=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var f=navigator.plugins["Shockwave Flash"];if(f&&f.description){e=new deconcept.PlayerVersion(f.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{try{var h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(g){try{var h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");e=new deconcept.PlayerVersion([6,0,21]);h.AllowScriptAccess="always"}catch(g){if(e.major==6){return e}}try{h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(g){}}if(h!=null){e=new deconcept.PlayerVersion(h.GetVariable("$version").split(" ")[1].split(","))}}return e};deconcept.PlayerVersion=function(b){this.major=b[0]!=null?parseInt(b[0]):0;this.minor=b[1]!=null?parseInt(b[1]):0;this.rev=b[2]!=null?parseInt(b[2]):0};deconcept.PlayerVersion.prototype.versionIsValid=function(b){if(this.major<b.major){return false}if(this.major>b.major){return true}if(this.minor<b.minor){return false}if(this.minor>b.minor){return true}if(this.rev<b.rev){return false}return true};deconcept.util={getRequestParameter:function(g){var h=document.location.search||document.location.hash;if(h){var e=h.substring(1).split("&");for(var f=0;f<e.length;f++){if(e[f].substring(0,e[f].indexOf("="))==g){return e[f].substring((e[f].indexOf("=")+1))}}}return""}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var f=document.getElementsByTagName("OBJECT");for(var d=0;d<f.length;d++){f[d].style.display="none";for(var e in f[d]){if(typeof f[d][e]=="function"){f[d][e]=function(){}}}}};if(deconcept.SWFObject.doPrepUnload){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs)};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload)}if(Array.prototype.push==null){Array.prototype.push=function(b){this[this.length]=b;return this.length}}(function(){if(window.google&&google.gears){return}var d=null;if(typeof GearsFactory!="undefined"){d=new GearsFactory()}else{try{d=new ActiveXObject("Gears.Factory");if(d.getBuildInfo().indexOf("ie_mobile")!=-1){d.privateSetGlobalObject(this)}}catch(c){if((typeof navigator.mimeTypes!="undefined")&&navigator.mimeTypes["application/x-googlegears"]){d=document.createElement("object");d.style.display="none";d.width=0;d.height=0;d.type="application/x-googlegears";document.documentElement.appendChild(d)}}}if(!d){return}if(!window.google){google={}}if(!google.gears){google.gears={factory:d}}})();Persist=(function(){var l="0.2.0",m,j,i,k,n;var h=(function(){if(Array.prototype.indexOf){return function(b,a){return Array.prototype.indexOf.call(b,a)}}else{return function(b,a){var c,d;for(c=0,d=b.length;c<d;c++){if(b[c]==a){return c}}return -1}}})();n=function(){};i=function(a){return"PS"+a.replace(/_/g,"__").replace(/ /g,"_s")};C={search_order:["localstorage","globalstorage","gears","ie","flash"],name_re:/^[a-z][a-z0-9_ -]+$/i,methods:["init","get","set","remove","load","save","iterate"],sql:{version:"1",create:"CREATE TABLE IF NOT EXISTS persist_data (k TEXT UNIQUE NOT NULL PRIMARY KEY, v TEXT NOT NULL)",get:"SELECT v FROM persist_data WHERE k = ?",set:"INSERT INTO persist_data(k, v) VALUES (?, ?)",remove:"DELETE FROM persist_data WHERE k = ?",keys:"SELECT * FROM persist_data"},flash:{div_id:"_persist_flash_wrap",id:"_persist_flash",path:"persist.swf",size:{w:1,h:1},args:{autostart:true}}};j={gears:{size:-1,test:function(){return(window.google&&window.google.gears)?true:false},methods:{init:function(){var a;a=this.db=google.gears.factory.create("beta.database");a.open(i(this.name));a.execute(C.sql.create).close()},get:function(c){var b,a=C.sql.get;var e=this.db;var d;e.execute("BEGIN").close();b=e.execute(a,[c]);d=b.isValidRow()?b.field(0):null;b.close();e.execute("COMMIT").close();return d},set:function(c,g){var e=C.sql.remove,a=C.sql.set,b;var f=this.db;var d;f.execute("BEGIN").close();f.execute(e,[c]).close();f.execute(a,[c,g]).close();f.execute("COMMIT").close();return g},remove:function(b){var a=C.sql.get;sql=C.sql.remove,r,val=null,is_valid=false;var c=this.db;c.execute("BEGIN").close();c.execute(sql,[b]).close();c.execute("COMMIT").close();return true},iterate:function(b,c){var d=C.sql.keys;var a;var e=this.db;a=e.execute(d);while(a.isValidRow()){b.call(c||this,a.field(0),a.field(1));a.next()}a.close()}}},globalstorage:{size:5*1024*1024,test:function(){return window.globalStorage?true:false},methods:{key:function(a){return i(this.name)+i(a)},init:function(){this.store=globalStorage[this.o.domain]},get:function(a){a=this.key(a);return this.store.getItem(a)},set:function(b,a){b=this.key(b);this.store.setItem(b,a);return a},remove:function(b){var a;b=this.key(b);a=this.store[b];this.store.removeItem(b);return a},}},localstorage:{size:-1,test:function(){return window.localStorage?true:false},methods:{key:function(a){return this.name+">"+a},init:function(){this.store=localStorage},get:function(a){a=this.key(a);return this.store.getItem(a)},set:function(b,a){b=this.key(b);this.store.setItem(b,a);return a},remove:function(b){var a;b=this.key(b);a=this.store.getItem(b);this.store.removeItem(b);return a},iterate:function(f,a){var d=this.store;for(var b=d.length;b--;){var c=d.key(b);var e=c.split(">");if((e.length==2)&&(e[0]==this.name)){f.call(a||this,e[1],d.getItem(c))}}}}},ie:{prefix:"_persist_data-",size:64*1024,test:function(){return window.ActiveXObject?true:false},make_userdata:function(a){var b=document.createElement("div");b.id=a;b.style.display="none";b.addBehavior("#default#userdata");document.body.appendChild(b);return b},methods:{init:function(){var a=j.ie.prefix+i(this.name);this.el=j.ie.make_userdata(a);if(this.o.defer){this.load()}},get:function(b){var a;b=i(b);if(!this.o.defer){this.load()}a=this.el.getAttribute(b);return a},set:function(b,a){b=i(b);this.el.setAttribute(b,a);if(!this.o.defer){this.save()}return a},remove:function(b){var a;b=i(b);if(!this.o.defer){this.load()}a=this.el.getAttribute(b);this.el.removeAttribute(b);if(!this.o.defer){this.save()}return a},load:function(){this.el.load(i(this.name))},save:function(){this.el.save(i(this.name))}}},flash:{test:function(){if(!deconcept||!deconcept.SWFObjectUtil){return false}var a=deconcept.SWFObjectUtil.getPlayerVersion().major;return(a>=8)?true:false},methods:{init:function(){if(!j.flash.el){var a,c,b,d=C.flash;b=document.createElement("div");b.id=d.div_id;document.body.appendChild(b);a=new deconcept.SWFObject(this.o.swf_path||d.path,d.id,d.size.w,d.size.h,"8");for(c in d.args){a.addVariable(c,d.args[c])}a.write(b);j.flash.el=document.getElementById(d.id)}this.el=j.flash.el},get:function(b){var a;b=i(b);a=this.el.get(this.name,b);return a},set:function(b,a){var c;b=i(b);c=this.el.set(this.name,b,a);return c},remove:function(b){var a;b=i(b);a=this.el.remove(this.name,b);return a}}}};var k=function(){var f,c,d,a,b=C.methods,e=C.search_order;for(f=0,c=b.length;f<c;f++){m.Store.prototype[b[f]]=n}m.type=null;m.size=-1;for(f=0,c=e.length;!m.type&&f<c;f++){d=j[e[f]];if(d.test()){m.type=e[f];m.size=d.size;for(a in d.methods){m.Store.prototype[a]=d.methods[a]}}}m._init=true};m={VERSION:l,type:null,size:0,add:function(a){j[a.id]=a;C.search_order=[a.id].concat(C.search_order);k()},remove:function(a){var b=h(C.search_order,a);if(b<0){return}C.search_order.splice(b,1);delete j[a];k()},Store:function(b,a){if(!C.name_re.exec(b)){throw new Error("Invalid name")}if(!m.type){throw new Error("No suitable storage found")}a=a||{};this.name=b;a.domain=a.domain||location.hostname||"localhost";a.domain=a.domain.replace(/:\d+$/,"");a.domain=(a.domain=="localhost")?"":a.domain;this.o=a;a.expires=a.expires||365*2;a.path=a.path||"/";this.init()}};k();return m})();(function(c){var b=c.browser.msie&&parseInt(c.browser.version)==6&&typeof window.XMLHttpRequest!="object",d=null,a=[];c.modal=function(f,e){return c.modal.impl.init(f,e)};c.modal.close=function(){c.modal.impl.close()};c.fn.modal=function(e){return c.modal.impl.init(this,e)};c.modal.defaults={appendTo:"body",focus:true,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:200,minWidth:300,maxHeight:null,maxWidth:null,autoResize:false,autoPosition:true,zIndex:1000,close:true,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:true,overlayClose:false,position:null,persist:false,onOpen:null,onShow:null,onClose:null};c.modal.impl={o:null,d:{},init:function(g,e){var f=this;if(f.d.data){return false}d=c.browser.msie&&!c.boxModel;f.o=c.extend({},c.modal.defaults,e);f.zIndex=f.o.zIndex;f.occb=false;if(typeof g=="object"){g=g instanceof jQuery?g:c(g);if(g.parent().parent().size()>0){f.d.parentNode=g.parent();if(!f.o.persist){f.d.orig=g.clone(true)}}}else{if(typeof g=="string"||typeof g=="number"){g=c("<div></div>").html(g)}else{alert("SimpleModal Error: Unsupported data type: "+typeof g);return f}}f.create(g);g=null;f.open();if(c.isFunction(f.o.onShow)){f.o.onShow.apply(f,[f.d])}return f},create:function(f){var e=this;a=e.getDimensions();if(b){e.d.iframe=c('<iframe src="javascript:false;"></iframe>').css(c.extend(e.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:a[0],width:a[1],zIndex:e.o.zIndex,top:0,left:0})).appendTo(e.o.appendTo)}e.d.overlay=c("<div></div>").attr("id",e.o.overlayId).addClass("simplemodal-overlay").css(c.extend(e.o.overlayCss,{display:"none",opacity:e.o.opacity/100,height:a[0],width:a[1],position:"fixed",left:0,top:0,zIndex:e.o.zIndex+1})).appendTo(e.o.appendTo);e.d.container=c("<div></div>").attr("id",e.o.containerId).addClass("simplemodal-container").css(c.extend(e.o.containerCss,{display:"none",position:"fixed",zIndex:e.o.zIndex+2})).append(e.o.close&&e.o.closeHTML?c(e.o.closeHTML).addClass(e.o.closeClass):"").appendTo(e.o.appendTo);e.d.wrap=c("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(e.d.container);e.d.data=f.attr("id",f.attr("id")||e.o.dataId).addClass("simplemodal-data").css(c.extend(e.o.dataCss,{display:"none"})).appendTo("body");f=null;e.setContainerDimensions();e.d.data.appendTo(e.d.wrap);if(b||d){e.fixIE()}},bindEvents:function(){var e=this;c("."+e.o.closeClass).bind("click.simplemodal",function(f){f.preventDefault();e.close()});if(e.o.close&&e.o.overlayClose){e.d.overlay.bind("click.simplemodal",function(f){f.preventDefault();e.close()})}c(document).bind("keydown.simplemodal",function(f){if(e.o.focus&&f.keyCode==9){e.watchTab(f)}else{if((e.o.close&&e.o.escClose)&&f.keyCode==27){f.preventDefault();e.close()}}});c(window).bind("resize.simplemodal",function(){a=e.getDimensions();e.setContainerDimensions(true);if(b||d){e.fixIE()}else{e.d.iframe&&e.d.iframe.css({height:a[0],width:a[1]});e.d.overlay.css({height:a[0],width:a[1]})}})},unbindEvents:function(){c("."+this.o.closeClass).unbind("click.simplemodal");c(document).unbind("keydown.simplemodal");c(window).unbind("resize.simplemodal");this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var e=this,f=e.o.position;c.each([e.d.iframe||null,e.d.overlay,e.d.container],function(r,k){if(k){var p="document.body.clientHeight",u="document.body.clientWidth",w="document.body.scrollHeight",t="document.body.scrollLeft",n="document.body.scrollTop",j="document.body.scrollWidth",h="document.documentElement.clientHeight",q="document.documentElement.clientWidth",o="document.documentElement.scrollLeft",x="document.documentElement.scrollTop",y=k[0].style;y.position="absolute";if(r<2){y.removeExpression("height");y.removeExpression("width");y.setExpression("height",""+w+" > "+p+" ? "+w+" : "+p+' + "px"');y.setExpression("width",""+j+" > "+u+" ? "+j+" : "+u+' + "px"')}else{var m,g;if(f&&f.constructor==Array){var v=f[0]?typeof f[0]=="number"?f[0].toString():f[0].replace(/px/,""):k.css("top").replace(/px/,"");m=v.indexOf("%")==-1?v+" + (t = "+x+" ? "+x+" : "+n+') + "px"':parseInt(v.replace(/%/,""))+" * (("+h+" || "+p+") / 100) + (t = "+x+" ? "+x+" : "+n+') + "px"';if(f[1]){var l=typeof f[1]=="number"?f[1].toString():f[1].replace(/px/,"");g=l.indexOf("%")==-1?l+" + (t = "+o+" ? "+o+" : "+t+') + "px"':parseInt(l.replace(/%/,""))+" * (("+q+" || "+u+") / 100) + (t = "+o+" ? "+o+" : "+t+') + "px"'}}else{m="("+h+" || "+p+") / 2 - (this.offsetHeight / 2) + (t = "+x+" ? "+x+" : "+n+') + "px"';g="("+q+" || "+u+") / 2 - (this.offsetWidth / 2) + (t = "+o+" ? "+o+" : "+t+') + "px"'}y.removeExpression("top");y.removeExpression("left");y.setExpression("top",m);y.setExpression("left",g)}}})},focus:function(h){var f=this,g=h||"first";var e=c(":input:enabled:visible:"+g,f.d.wrap);e.length>0?e.focus():f.d.wrap.focus()},getDimensions:function(){var f=c(window);var e=c.browser.opera&&c.browser.version>"9.5"&&c.fn.jquery<="1.2.6"?document.documentElement.clientHeight:c.browser.opera&&c.browser.version<"9.5"&&c.fn.jquery>"1.2.6"?window.innerHeight:f.height();return[e,f.width()]},getVal:function(e){return e=="auto"?0:e.indexOf("%")>0?e:parseInt(e.replace(/px/,""))},setContainerDimensions:function(h){var j=this;if(!h||(h&&j.o.autoResize)){var i=j.getVal(j.d.container.css("height")),e=j.getVal(j.d.container.css("width")),k=j.d.data.outerHeight(true),g=j.d.data.outerWidth(true);var f=j.o.maxHeight&&j.o.maxHeight<a[0]?j.o.maxHeight:a[0],l=j.o.maxWidth&&j.o.maxWidth<a[1]?j.o.maxWidth:a[1];if(!i){if(!k){i=j.o.minHeight}else{if(k>f){i=f}else{if(k<j.o.minHeight){i=j.o.minHeight}else{i=k}}}}else{i=i>f?f:i}if(!e){if(!g){e=j.o.minWidth}else{if(g>l){e=l}else{if(g<j.o.minWidth){e=j.o.minWidth}else{e=g}}}}else{e=e>l?l:e}j.d.container.css({height:i,width:e});if(k>i||g>e){j.d.wrap.css({overflow:"auto"})}}if(j.o.autoPosition){j.setPosition()}},setPosition:function(){var f=this,h,g,i=(a[0]/2)-(f.d.container.outerHeight(true)/2),e=(a[1]/2)-(f.d.container.outerWidth(true)/2);if(f.o.position&&Object.prototype.toString.call(f.o.position)==="[object Array]"){h=f.o.position[0]||i;g=f.o.position[1]||e}else{h=i;g=e}f.d.container.css({left:g,top:h})},watchTab:function(g){var f=this;if(c(g.target).parents(".simplemodal-container").length>0){f.inputs=c(":input:enabled:visible:first, :input:enabled:visible:last",f.d.data[0]);if((!g.shiftKey&&g.target==f.inputs[f.inputs.length-1])||(g.shiftKey&&g.target==f.inputs[0])||f.inputs.length==0){g.preventDefault();var h=g.shiftKey?"last":"first";setTimeout(function(){f.focus(h)},10)}}else{g.preventDefault();setTimeout(function(){f.focus()},10)}},open:function(){var e=this;e.d.iframe&&e.d.iframe.show();if(c.isFunction(e.o.onOpen)){e.o.onOpen.apply(e,[e.d])}else{e.d.overlay.show();e.d.container.show();e.d.data.show()}e.focus();e.bindEvents()},close:function(){var e=this;if(!e.d.data){return false}e.unbindEvents();if(c.isFunction(e.o.onClose)&&!e.occb){e.occb=true;e.o.onClose.apply(e,[e.d])}else{if(e.d.parentNode){if(e.o.persist){e.d.data.hide().appendTo(e.d.parentNode)}else{e.d.data.hide().remove();e.d.orig.appendTo(e.d.parentNode)}}else{e.d.data.hide().remove()}e.d.container.hide().remove();e.d.overlay.hide().remove();e.d.iframe&&e.d.iframe.hide().remove();e.d={}}}}})(jQuery);